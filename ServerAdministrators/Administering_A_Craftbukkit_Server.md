#  管理一个Craftbukkit服务器

如果你是一名使用Craftbukkit的服务器管理员，或者是想要申请成为服务器的管理员的人，甚至是为了浅尝辄止的人，你可以将这个教程作为你开服的参考资料。这个教程旨在通过为管理员们提供大量的指南和一些十分珍贵的资源，来引导他们开启一个从各个方面看都是成功的服务器。这个教程从细琐的小事介绍起，再到服务器每一天的运行、维护和管理，包含着开启一个Minecraft服务器所需的大部分知识。

让我们从零基础开始！开启你的服务器吧！

## 目录

  * 1 第 1 部分: 基础知识
    * 1.1 “纯净”服务器和“插件”服务器
    * 1.2 Bukkit项目
    * 1.3 租用服务器的套餐
    * 1.4 CraftBukkit 还是 Bukkit？
    * 1.5 选择你的操作系统，存储设备大小和内存大小
    * 1.6 价格
  * 2 第 2 部分: 玩家社群
    * 2.1 作为服务器管理员，你应该如何对待自己的玩家
      * 2.1.1 你应该怎样做
    * 2.2 招收管理员
      * 2.2.1 申请系统
        * 2.2.1.1 审核
      * 2.2.2 观察你的玩家
    * 2.3 关于封禁
      * 2.3.1 什么是对玩家负责任的封禁。不负责任的封禁对玩家社群有什么影响？
      * 2.3.2 仁慈和严厉
      * 2.3.3 全局封禁 - 你的志高责任
    * 2.4 让你的玩家社群真正参与进服务器中
    * 2.5 选择你真正所需的插件
      * 2.5.1 开发插件
    * 2.6 日程编排
    * 2.7 做好最坏的准备
    * 2.8 当你的服务器暂时关闭的时候
    * 2.9 “这或许是你的服务器，但它是为玩家而生的”
  * 3 第 3 部分: 服务器运维
    * 3.1 救命！Minecraft升级了！
    * 3.2 我的插件升级了吗？我怎么判断呢？
    * 3.3 升级你的插件
    * 3.4 向别人问问题
# 第 1 部分：基础知识

这个部分旨在给你介绍几个简单的常识：

  1. “原版”服务器和“插件”服务器之间的区别
  2. 什么是Bukkit项目？
  3. 按照人数租用的服务器 和 自由的服务器（VPS, VDS或独立机）之间的区别

这一部分就是你开服苦旅的开始，也是它的一部分


##“原版”服务器和“插件”服务器

开服之前，你首先需要知道的是“纯净”服和“插件”服（如Craftbukkit）之间的区别。由于这些东西能够应用在几乎任何的游戏上面，而通常会搞得一些新人晕头转向，所以介绍这方面的知识十分必要。“纯净”服是你从<http://www.minecraft.net>上面下载下来的 minecraft_server.jar，而它通常没有任何的修改。从一种角度来说，这是一种最纯净、最未被更改、最易被破坏的插件，而这正是大多数服主所畏惧的。“感谢”一种叫做熊孩子的生物和其他的一些问题存在于Minecraft这个群体中，“原版”服务器是各种恶作剧和各种混乱所发生的地方，管理一个原版服务器会令人很心烦，因为你必须监事每一个玩家来保证一切都在正轨上。而这正是“插件”服务器派上用场的时候，而不仅仅是Craftbukkit的作者，还有成百上千的玩家有一种对于修改原本的代码的强烈需求，因为他们在玩家增长的同时，也感受到了强烈的管理需求。“插件服”将更好的安全性和更好的游戏性结合到了一起，构成了插件多人服务器。

“原版”服务器和“插件”服务器之间的主要区别是。“原版”服务器是受Mojang官方支持的服务端，目前Mojang正在开发Mod的API来供给给针对服务端和客户端的修改。对于每一种服务端来说，他们的社区仅仅支持他们自己的服务端。比如说Bukkit，它的社区只会回答关于Bukkit和Craftbukkit的问题，而不会回答关于CanaryMod服务端的问题。

## Bukkit项目

Bukkit项目看上去是由Hey0启动的Hey0服务端模组的一个成功者之一。但实际上，Bukkit是一个独立的项目，它的目的是在为运行它的人提供方便和简洁的环境的情况下，像任何其他的Mod一样来改进Minecraft。一般来说，只会发布一种版本的修改，但是Bukkit项目发布了两种版本：第一种称之为Bukkit，它和这个项目同名，它是作为“原版”服务器的API来使用的。一般情况下，服主们 **不会** 使用Bukkit，因为它只是Bukkit项目的一个API（创建插件的平台）。Craftbukkit则是经过封装的Bukkit的jar，设计为为服主提供简单易用的运行环境，和对Minecraft服务器支持。这个教程中的Craftbukkit是提供给服主们开服的，而不是为开发者提供的环境。

## 租用服务器的套餐

目前市面上有两种主要的服务器租用套餐：按人数计的套餐和自由的硬件平台（VDS, VPS, 独立机等）

**按人数计的套餐** 你会被授予网络后台（如Multicraft）和FTP（或者类似的东西）。这些东西通常都对用户很友好。但是这些套餐有的时候限制会过多，并且无法使用特定的软件。
**自由的硬件平台** 从基本上来讲，这些设备是在数据中心之中的一台电脑，它拥有网络连接和一个操作系统。VDS、VPS和独立机都是这种种类的机器。你拥有这台服务器的完全控制权，你可以在你的出租商的服务条款的允许范围内做任何事情。几乎大多数人都喜欢这种租用方式，因为这种租用方式能够给你服务器的完全控制，包括他里面运行了什么、存储着什么。当然，你也失去了那些网络后台能够基于你的方便，除非你自己安装一个。总而言之，由于这种方式没有太多的限制，所以本教程认为这种方式是最好的部署服务器的方式。[请注意：你的独立机必须开启25565端口(Minecraft使用的端口)]。
当然，你也可以使用[SRV记录](http://www.reddit.com/r/admincraft/comments/16cac2/srv_records_tutorial_revisited/)_)
这篇教程可以使用在这两种开服方式之中。

## CraftBukkit 还是 Bukkit？

前文已解释过，Craftbukkit是Minecraft服务器的插件服务端。相对来说，Bukkit只是提供给开发者开发插件的API。因为Bukkit是提供给开发者的API，故这篇教程仅会针对Craftbukkit展开介绍。

## 选择你的操作系统，存储设备大小和内存大小

阅读这篇教程将会帮助你学会运行一个Craftbukkit服务端。这里有几个关于选择租用套餐的小提示。首先：由于Linux和它的衍生物对于Craftbukkit的插件兼容性更好，所以使用Linux系统的套餐是更好的（译者注：使用Linux系统请务必注意将所有设定转化为**UTF-8**编码）。话虽如此，如果你不会用Linux，你可以使用Windows，因为它有更好的GUI支持，易用性好。

当你需要决定使用64位系统还是32位系统的时候，我们推荐你使用64为系统，因为它能让你使用大于4G的内存。当然，如果不知道怎么选的话，建议咨询更加专业的人。

 **注意**: 32位和x86是一个意思，x86并不是68位！

在选择内存大小是，我们**强烈**建议你每增加10个玩家，就添加1024MB（1GB）的内存。如果你的玩家数量小于10个，我们建议你最少使用768MB的内存。由于Java对于服务端插件极高的内存消耗，你可能(_绝对_)不会有足够的内存。

## 价格

就和上面的一样，价格对于服务器管理者来说也十分重要，因为它涉及到了管理员的钱。如果你想要建立一个成功的社群，你需要如下条件：有很多钱烧或者建立一套捐款体制。曾经有一句话这样说：“如果你从小型服务器开始，你的成果应该不差。不要从大型服务器开始然后越来越小！”请记住，一个大型的玩家社群通常是从小的社群发展出来的。

# 第 2 部分： 玩家社群

玩家社群的本身和运行它的人，同服务器的配置和价格一样，都对于你的社群的成功极其重要。如果你像一个混蛋一样运行着他，又不去关心玩家们真正能让玩家高兴的东西……你根本就不可能成功。对！开一个Minecraft服务器就应该像职业一样对待！如果你不能把自己的全心全力投入到这上面上来的话，我建议你立刻关闭你的浏览器并去做你刚刚在做的事情，什么都可以，请不要开服。

这个部分将会告诉你：

  * 如何成功地宣传你的服务器
  * 作为一名管理员，你应该如何与玩家相处？
  * 招募管理员，并了解什么时候应该封禁玩家
  * 让你的玩家社群真正地参与进服务器中
  * 选择你真正需要的正确的插件！

  * 为一些事情提前做出计划，并处理意外事件
  * 你的服务器暂时关闭时你所需要做的事
  * “这或许是你的服务器，但它是为玩家而生的”



## 作为服务器管理员，你应该如何对待自己的玩家

#### 你应该怎样做

  * 友好并且有礼貌 - 对你的玩家友好一些，帮他们建点东西，甚至是在他们的房子被破坏者入侵的时候保护他们。
  * 能够回答玩家的问题 - 你需要了解你的插件！没有人会喜欢对自己的插件半知半解的管理员！
  * 能够承受侮辱 - 有一些熊孩子的辱骂有时候会导致很多管理员愤怒至极。如果有些人侮辱了你，封禁他们，然后继续做你应该做的事儿。

_哪怕你拥有全部的权限，但也不要在你自己的服务器里面做一些很混球的事情 - 没有人会喜欢一个在破坏完他们的房子之后，又逼着他们捐钱回档的服主。玩家会恨死你的，他们还会告诉其他的人 - 而这对你来说很不好。_



## 招收管理员

在你的服务器迅速扩张的同时，追踪每个玩家的不当行为会变得越来越难。在那时，你需要招收一些管理员来帮助你降低犯罪率。

基本上讲，有两种招收管理员的方式：玩家申请和观察现有玩家。那我们来看看这两种方法。

#### 申请系统

一般来说，这个系统是用来观察谁有成为管理员的意愿的。你应该以高标准审核他们。

你需要观察的几个方面：

  * 这个玩家活跃嘛？
  * 这个玩家对其他的玩家友好嘛？
  * 这个玩家有没有触犯过服务器规则？
  * 这个玩家的心理成熟嘛？

以上是你招收管理的一些标准。现在你应该注意一下申请表本身了。申请表应该能够包含很多信息，而不是像下面这样简单：


    姓名：

    年龄：

    你为什么想当管理：

如果你用这种表格来审核管理员，那么其他人混进服务器管理员就十分简单了


你应该用更详细的申请表

    姓名：

    年龄：

    之前的管理经验：

    联系方式：

    你会如何对玩家社群做出贡献：


当然，毕竟人们可以撒谎，所以这中申请表仍然会有些漏洞。但是使用这种申请表能够让尝试混进来的人更加少。

##### 审核

你还应该审核这些申请表来判断谁更适合这些职位。
You should also review these applications and see who's more fit for the job.
Do not make everyone who applied a moderator, that would defeat the purpose of
applications. Check their sources. If they say that they've been mods on 
previous servers, PM them asking for the IP and **cross-check! **It saves you
a lot of hassle later on.



#### 观察你的玩家

这是一个非常常用的方法，观察在你服务器中的玩家正常活动和他们如何与其他玩家互动。特别关注那些特别活跃的玩家，查看他们的聊天记录和日志（你可以在服务器文件夹找到）或者使用隐身插件在他们毫无意识的情况下观察他们。请万万不要告诉他们**我在关注你！**，这将导致他们改变自己的行事准则从而让你满意，你的所有前期准备工作都将被轻而易举的毁掉。重复一遍！你需要寻找那些活跃、友好而且对于你非常有用的玩家去关注。

**不要直接给任何人OP权限** 这一点无论如何强调都不过分！千万不要给你的新OP所有的权限。在你明确的确认他们有能力胜任OP这份工作前任何过分的权限都绝对不是一个好主意。这就是为什么通常你最好能在保证OP的基础权限基础上将权限拆分为几个等级而且不是一股脑的给予。

综上所述，请明智的选择你的OP！

## 关于封禁

关于封禁的使用甚至可以写一本小说。这个简单的工具可以永久的将任何你不想看到的人从服务器中抹杀。这也是了解为什么封禁如此重要的原因。  

这一部分将分为几个小章节:

  * 什么是对玩家负责任的封禁。不负责任的封禁对玩家社群有什么影响？
  * 仁慈和严厉
  * 全局封禁 - 你的志高责任 

#### 什么是对玩家负责任的封禁。不负责任的封禁对玩家社群有什么影响？

正如前面所说，封禁是一个非常强力的工具。请务必明白其严重性并且在足够必要的情况下再去使用它。

不要封禁那些仅仅令你神经紧张的人，你开服的目的可不是吓跑所有的玩家。如果你仅仅因为一些鸡毛蒜皮的小事就封禁某个玩家会导致玩家大量的流失。反之，你也不能过分的仁慈。你不能让一个建造了过分的建筑或者从其他玩家那里偷窃的玩家大摇大摆待在你的服务器里。这同样会导致玩家离开你的服务器。  

#### 仁慈和严厉

让玩家明白服务器管理员们的底线和服务器的规定是很重要的一点。也就是说你需要告诉他们：“是的，如果你破坏别人的物品会被封禁”、“不，你不会因为用大写字符就被封禁”。如果你跟玩家说做某些事情并不会被封禁，那就千万不要封禁他们。没有人会喜欢当面一套背后一套的管理员。

#### 全局封禁 - 你的志高责任

全局封禁是用于多服联结的服务。就和标题一样，对待全局封禁，你必须要负责人。不要因为一些很奇怪的原因去封禁玩家。大多数全局封禁服务器都有一些本地的封禁系统，但这并不代表你能够随便封禁人，你应该按照你自己定下的服规来执行封禁，如果随便封禁人的话，会流失许多玩家。一个服务器管理层的素质能够表现出你的服务器的整体素质。记得一定要阅读好你的全局封禁的说明，以便不遇到太多的麻烦。

## 让你的玩家社群真正参与进服务器中

为了让你的服务器的社群持续成长，你应该让你的玩家一直活跃。
由管理员随机发放物品的派对可以吸引你的玩家，并且对于玩家社群的发展是良好的。你只需要吸引玩家前来并给出免费的物品。这种派对中，不要给出太多的好东西，你应该试图平衡钻石和其他稀有的物品，你可以丢多一些平常的东西，比如说打火石，植物种子，或者其他可以合成出来的简单物品。你也需要保证自己不会办太多这样的派对，尽管这些派对能够让玩家继续呆在你这个服务器，但他们同样可能让你的服务器的经济系统崩溃，因为有一些玩家可以获得太多的免费的稀有物品。当然，如果你要办这样的派对，记得一定要让玩家知道，如果他们不知道的话，没有人会来的。我们推荐你建立一个日程表，并且坚决地执行它，玩家会很快习惯它并且期待那些活动，这样就能够达到让玩家社群成长的目标了。

另外一个让玩家社群参与进服务器中的方式是在服务器的官方网站上建立一个开放的论坛。玩家们可以讨论他们的想法，策略，甚至是对服务器的评论和一些能让你的服务器变得更好的建议。在这些论坛上发布服务器的信息是一个好的主意，但你必须注意的是，每个人都有表达他们自己意愿的权力，请不要对不好的评价过度反应。你还需要编写论坛的规则、板块等，这样子玩家就能够快速地、和谐地表达他们所需要表达的话题。

另外一个好主意是运行一个服务器的视频频道，玩家们可以发表自己录的视频，提交给你，你可以决定是否将它们发表到视频首页上去。这样子就会给玩家们一种真正参与进服务器建设的感觉。允许玩家们录一些关于服务器特色的视频，和他们自己的对服务器的评论，不要害怕反响。试着鼓励玩家们制作这些视频，你甚至可以给他们一些小小的奖励，比如说钻石，或者是服务器的金钱。

以上的所有都能够帮助你的服务器，但它们也能毁灭你的服务器。请确保你做的每一件事的程度都是适中的，不要让玩家觉得你这个服务器是坏的。不要给出太多的东西，因为有些玩家会变得**过于**强大，而由此，其他的玩家就不愿意玩了。请务必确保服务器的视频能够展示服务器好的一面，任何不好的东西都能够让玩家对你的服务器的第一印象降低。

## 选择你真正所需的插件

对于成功的服务器来说，这一步十分重要。选择正确的插件能够给玩家以新鲜感，快乐和一种独一无二的感觉。而这三种感觉正是一个好的服务器所需要的。不要选择那些除了你之外没有人会有权限的插件（比如说这个插件能烧、劈和炸别人）。这些插件只能够将你的服务器拖慢，但不会为你的玩家增添任何的欢乐，只会给他们增添一条：“你没有权限执行这个命令”的提示信息。这就不欢乐了。

请确保你在添加一个插件之前在测试服务器上进行了广泛深入的测试。这样能够确保在插件实际运行之后可以获得你预期的效果，而不会去毁坏你的地图。

**小贴士**： 记住，只从 plugins.bukkit.org（Bukkit的官方插件站）上下载插件。这个网站上面的插件都经过网站人员的检查以确保插件的安全性。

#### 开发插件

找不到你很想要的插件吗？你可以叫别人帮忙开发，或者你也可以自己开发。成为一名好的开发者需要大量的练习，但是只要你掌握了其中的要领，你就可以为你的服务器添加任何的功能了！这样既能够为你的服务器添砖加瓦，又能够为你自己增添一些知识和技能。

## 日程编排

日程编排是运营一个成功服务器的关键因素。首先玩家们应该被告知下一次Minecraft升级的内容。当然你也可以不更新Minecraft，不过你应当计划好下一次插件升级的时间和内容。没有玩家喜欢被告知因为服务器升级出现了问题所有必须停运一周来解决问题。你必须将你的计划告知玩家，这样玩家会明白他们应当做什么，不应当做什么。

## 做好最坏的准备

面对现实吧！你不可能永远有时间来运营你的服务器。你肯定会有工作或者学习挤压你的时间，也许有一天你发现你无法从运营服务器上获得快乐。不过当这些发生的时候，请不要畏惧！你总能抽出一点空余时间来运行服务器，和朋友们一同建造梦想中的大宅子。不过当你想离开，请务必告诉你服务器的玩家，也许发生了一些问题，也许你的时间需要花在工作上。

## 当你的服务器暂时关闭的时候

当服务器离线的时候你必须明确的和玩家说明。大部分情况下，你需要一个论坛或者网站来快速发布服务器离线信息或者其他信息。论坛可以为与玩家交流建立很好的平台。

说到网站——尽可能让你的网站保持美观。很多的人会偶然谷歌到你的服务器地址，不过一个不但界面丑陋而且充斥着广告的主页可没法让玩家产生兴趣。

## “这或许是你的服务器，但它是为玩家而生的”

这一点非常非常的重要！你可以理解为这是整章的总结。你建立服务器是为了玩家能够快乐的玩耍而不是仅仅为了你自己！你花费时间帮助那些玩家，让他们能够建造房屋；你花费金钱租赁服务器，同样你也能从中获得快乐！这才是你运营服务器的真正原因，不仅仅为了你自己。

_**做 玩 家 喜 欢 的 服 务 器 ！**_

_(永远不要忘记这一点)_

  

* * *

  

这上面的内容应该足够让你起步了，祝你好运！

# 第 3 部分： 服务器运维

一个社群就像一个花园一样，它会从小的社群慢慢地成长成大的社群。但是你不可能一夜之间就变成一个超大的服务器！你必须要将你的服务器持续运营并且要尽量让每个玩家都开心！

这个部分将会告诉你：

  * 一些你应该注意的有用的网站
  * 如何升级你的插件
  * 升级你的服务端软件 / 推荐的构建 

## 救命！Minecraft升级了！

总会有那个时候，CraftBukkit和你的插件都会更新。十分不幸的是，这代表着升级服务器之后，你的部分插件会失效。以下是一些有用的网站。

首先 <http://www.bukkit.org/> 应该被时刻关注，Bukkit项目的首页会告诉你目前Craftbukkit的推荐构建是什么，还有你什么时候应该更新。

其次： <http://plugins.bukkit.org/> 是用来查看你的插件的文档和寻找插件的地方。

第三： **关于服务器中的插件的所有话题**。这些话题应该绝对被收藏并且认真查看。以便到时候查看。 

第四： <http://dev.bukkit.org/> BukkitDev是一个能够替换老的论坛系统的网站。它能够让开发者和使用者之间的交流更加顺畅。BukkitDev有很多好处，比如说当你关注的插件更新时，它会发邮件提醒你。

第五： <http://wiki.bukkit.org/> 总会有一些很有用的教程！

## 我的插件升级了吗？我怎么判断呢？

通常情况下，不仔细找寻一番是很难判断出你到底正在使用哪个版本。请打开你的插件控制台然后键入_/version_，马上你就可以找到你的CraftBukkit版本。将其与当前稳定的版本号相对比，你可以判断出来当前运行的版本是不是最新的稳定版本。此外，键入_/version [pluginName]_也可以很快的找到某一个正在运行的插件的版本。 

有一些插件可以帮助服主令插件甚至是CraftBukkit本身保持最新版本。不过这些插件有的时候不做完全搜索就执行盲目的升级可能导致更大的麻烦。

## 升级你的插件

如果你希望升级服务器插件，首先请关停服务器，删除老版本插件并将新的放入。如果你发现Changelog表示新的版本在Config文件上有变化（Changelog通常可以在论坛对应插件的帖子中找到不过很多插件开发者喜欢将它放在对应版本的下载页中），那么请对应合适的改动。通常这个过程会伴随着插件的升级自动完成，但很少情况下需要我们手动的更改。

## 向别人问问题

那些已经成功开服的人的经验是你宝贵的资源。请不要畏惧向他人请教！大部分曾经担任服主或者正在担任服主的人都会尽可能的帮助你，或者向你推荐一些可以为你提供帮助的人。如果你认为没有任何认识的人了解相关的知识，那么请使用Bukkit IRC Channel。在IRC上有大量的服主，插件开发者和其他精通Bukkit的人乐于为你提供帮助。
